{"version":3,"sources":["components/Common/FormsControl/FormsControl.module.scss","utils/validators/validators.js","components/Common/FormsControl/FormsControl.js","reduxForm/forms.js","components/Dialogues/Dialogues.module.scss","components/Dialogues/Message/Message.js","components/Dialogues/DialogueItem/DialogueItem.js","components/Dialogues/Dialogues.js","components/Dialogues/DialoguesContainer.js"],"names":["module","exports","minLength","FormControl","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","input","Input","required","value","maxLengthCreator","maxLength","length","maxLength50","passwordMinLength","maxLength10","AddPostReduxForm","reduxForm","form","handleSubmit","onSubmit","Field","placeholder","name","component","validate","LoginReduxForm","type","style","formSummaryError","AddMessageReduxForm","Message","s","message","DialogueItem","dialog","active","to","id","Dialogues","state","dialoguePage","messageEls","messagesData","map","key","dialogsEls","dialogsData","isAuth","dialogs","dialogsItems","messages","sendMessage","newMessageBody","DialoguesContainer","compose","connect","dispatch","sendMessageCreator","withAuthRedirect"],"mappings":"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","file":"static/js/5.be5d6a3e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__oFNCF\",\"error\":\"FormsControl_error__68Qzq\",\"formSummaryError\":\"FormsControl_formSummaryError__3CnMR\"};","export const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined; \r\n}\r\n\r\nexport const minLengthCreator = minLength => value => {\r\n    if (value.length < minLength) return `Min length is ${minLength} symbols`;\r\n    return undefined; \r\n}\r\n\r\n","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport styles from './FormsControl.module.scss';\r\n\r\nexport const FormControl = ({ meta: {touched, error}, children }) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            { hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea {...props.input} {...props} />\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport const Input = (props) => {\r\n    return (\r\n        <FormControl {...props}>\r\n            <input {...props.input} {...props} />\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text) => {\r\n    <div>\r\n        <Field placeholder={placeholder} name={name} component={component} validate={validators} {...props} /> {text}\r\n    </div>\r\n}","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Input, Textarea } from '../components/Common/FormsControl/FormsControl';\r\nimport { maxLengthCreator, minLengthCreator, required } from '../utils/validators/validators';\r\nimport style from '../components/Common/FormsControl/FormsControl.module.scss';\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst addMessageForm = ({ handleSubmit }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {/* {createField('Enter your message', 'newMessageBody', [required, maxLength50], Textarea)} */}\r\n            <Field component={Textarea} validate={[required, maxLength50]} name='newMessageBody' placeholder='Enter your message' />\r\n            <div>\r\n                <button>Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst passwordMinLength = minLengthCreator(6);\r\n\r\nconst LoginForm = ({ handleSubmit, error }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {/* {createField('Email', 'email', Input, [required])}\r\n            {createField('Password', 'password', [required, passwordMinLength], Input, {type: 'password'})}\r\n            {createField(null, 'rememberMe', null, Input, {type: 'checkbox'}, 'remember me')} */}\r\n            <div>\r\n                <Field placeholder='Email' name='email' component={Input} validate={[required]} />\r\n            </div>\r\n            <div>\r\n                <Field placeholder='Password' name='password' component={Input} type='password' validate={[required, passwordMinLength]} />\r\n            </div>\r\n            <div>\r\n                <Field type='checkbox' name='rememberMe' component='input' /> remember me\r\n            </div>\r\n            { error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst addPostForm = ({ handleSubmit }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                {/* {createField('it-kamasutra.com', 'myPostInput', { required, maxLength10 }, {Input})} */}\r\n                <Field placeholder='it-kamasutra.com' name='myPostInput' component={Textarea} validate={[required, maxLength10]} />\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport const AddPostReduxForm = reduxForm({ form: 'addPost' })(addPostForm);\r\nexport const LoginReduxForm = reduxForm({ form: 'login' })(LoginForm);\r\nexport const AddMessageReduxForm = reduxForm({ form: 'dialgueAddMessageForm' })(addMessageForm);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogues_dialogs__2R2V0\",\"dialogsItems\":\"Dialogues_dialogsItems__V6DOv\",\"active\":\"Dialogues_active__rxxOL\",\"dialog\":\"Dialogues_dialog__WsP7Z\",\"messages\":\"Dialogues_messages__3tx7t\",\"message\":\"Dialogues_message__ZyVij\"};","import React from 'react';\r\nimport s from '../Dialogues.module.scss';\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={s.message}>{props.message}</div>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from '../Dialogues.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogueItem = (props) => {\r\n    return (\r\n        <div className={s.dialog + ' ' + s.active}>\r\n            <NavLink to={\"/dialogues/\" + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default DialogueItem;","import React from 'react';\r\nimport s from './Dialogues.module.scss';\r\nimport Message from './Message/Message';\r\nimport DialogueItem from './DialogueItem/DialogueItem';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { AddMessageReduxForm } from '../../reduxForm/forms';\r\n\r\nconst Dialogues = (props) => {\r\n\r\n    let state = props.dialoguePage;\r\n\r\n    let messageEls = state.messagesData.map(message => <Message message={message.message} key={message.id} />);\r\n    let dialogsEls = state.dialogsData.map(dialog => <DialogueItem name={dialog.name} key={dialog.id} id={dialog.id} />);\r\n\r\n    let addNewMessage = (value) => {\r\n        props.sendMessage(value.newMessageBody);\r\n        value.newMessageBody = '';\r\n    }\r\n\r\n    if (props.isAuth === false) return <Redirect to={'/login'} />\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsEls}\r\n            </div>\r\n            <div className={s.messages}>\r\n                <div>{messageEls}</div>\r\n                <div>\r\n                    <AddMessageReduxForm onSubmit={addNewMessage} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogues;","import React from 'react';\r\nimport Dialogues from './Dialogues';\r\nimport { sendMessageCreator } from '../../redux/reducers/dialogueReducer';\r\nimport { connect } from 'react-redux';\r\nimport { withAuthRedirect } from '../../hoc/WithAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dialoguePage: state.dialoguePage,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    sendMessage: (newMessageBody) => {\r\n        dispatch(sendMessageCreator(newMessageBody));\r\n    }\r\n})\r\n\r\nlet DialoguesContainer = compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogues);\r\n\r\nexport default DialoguesContainer;"],"sourceRoot":""}